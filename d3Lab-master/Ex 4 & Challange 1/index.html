<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="">
    <title>Buildings of the world</title>
    <!-- Bootstrap -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- Custom styling -->
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <h1>d3 is great!</h1>
    <!-- Bootstrap grid setup -->
    <div class="container">
        <div class="row">
            <div id="chart-area"></div>
        </div>
    </div>

    <!-- External JS libraries -->
    <script src="js/d3.min.js"></script>
    <!-- Custom JS -->
    <script>
        var svg = d3.select("#chart-area")
            .append("svg")
            .attr("width", 600)
            .attr("height", 600);
        var build = d3.json("https://raw.githubusercontent.com/gcastillo56/d3Lab/master/resources/data/buildings.json").then((data) => {
            var n_list = data.map((d) => {
                return d.name;
            });
            var colours = d3.scaleOrdinal()
                .domain(n_list)
                .range(d3.schemeSet3);

            var rect = svg.selectAll("rect")
                .data(data);
            var y = d3.scaleLinear()
                .domain([0, 828])
                .range([0, 400]);
            rect.enter()
                .append("rect")
                .attr("x", 10)
                .attr("y", 0)
                .attr("width", x.bandwidth())
                .attr("height", (d) => {
                    return y(d.height);
                })
                .attr("fill", (d) => {
                    return colours(d.name);
                })
        });
    </script>

</body>

</html>